*--------------------------------------------------------------------------------------------------------------------------------------------------------
* (ES) AUTOGENERADO - ¡¡ATENCIÓN!! - ¡¡NO PENSADO PARA EJECUTAR!! USAR SOLAMENTE PARA INTEGRAR CAMBIOS Y ALMACENAR CON HERRAMIENTAS SCM!!
* (EN) AUTOGENERATED - ATTENTION!! - NOT INTENDED FOR EXECUTION!! USE ONLY FOR MERGING CHANGES AND STORING WITH SCM TOOLS!!
*--------------------------------------------------------------------------------------------------------------------------------------------------------
*< FOXBIN2PRG: Version="1.19" SourceFile="ka_guiascompras.scx" /> (Solo para binarios VFP 9 / Only for VFP 9 binaries)
*
*
#INCLUDE "..\include\sisfotos.h"

DEFINE CLASS dataenvironment AS dataenvironment 
 	*< CLASSDATA: Baseclass="dataenvironment" Timestamp="" Scale="" Uniqueid="" ClassIcon="2" />

	DataSource = .NULL.
	Height = 200
	Left = 1
	Name = "Dataenvironment"
	Top = 220
	Width = 578

ENDDEFINE

DEFINE CLASS forguiasc AS form 
 	*< CLASSDATA: Baseclass="form" Timestamp="" Scale="" Uniqueid="" />

	*-- OBJECTDATA items order determines ZOrder / El orden de los items OBJECTDATA determina el ZOrder 
	*< OBJECTDATA: ObjPath="Container1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label3" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label4" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label7" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label8" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtserieg" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtnumerog" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtfechag" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtnumero" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Cmbmoneda" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtdolar" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Cmdaceptar" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Cmdcerraro" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label9" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Cmbforma" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column6.Header1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column6.Text1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column7.Header1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column7.Text1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column8.Header1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column8.Text1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column9.Header1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column9.Text1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column9.chkpercepcion" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column10.Header1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column10.Text1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column11.Header1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column11.Text1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Grivtag.Column11.chkcosto" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdeliminar" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Cmdborraritem" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Txtfechar" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Optigv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label10" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtserie" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtredondeo" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Container2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtvalor1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtigv1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txttotal1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="chkflete" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtpeso" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label6" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="lblproveedor" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label12" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txttotal" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label14" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label15" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtvalor" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtigv" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label16" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Txtfechar1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdlista" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdver" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtpercepcion" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="chkpercepcion" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txttgeneral" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label13" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Cmdanular1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtcostoant" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label24" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="txtcostoact" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Label25" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Optexoneraciones1" UniqueID="" Timestamp="" />

	*<DefinedPropArrayMethod>
		*m: calcularcostosactuales
		*m: costoactual
		*m: ingresadeudas
		*m: ingresaguias
		*m: limpiar
		*m: nuevo
		*m: validar
		*p: ctabla
		*p: encontrado
		*p: flete
		*p: mensaje
		*p: nauto
		*p: nitem
		*p: nohay
		*p: proveedor
		*p: swac
		*p: swc
		*p: swcreditos
		*p: swk
		*p: tipo
	*</DefinedPropArrayMethod>

	AutoCenter = .T.
	BackColor = 215,215,215
	BorderStyle = 1
	Caption = "[Canje de Guias Por Facturas]"
	Closable = .T.
	ControlBox = .T.
	ctabla = 
	DataSession = 2
	DoCreate = .T.
	encontrado = 
	flete = 0
	Height = 548
	Icon = ..\graphics\anular.ico
	MaxButton = .F.
	MinButton = .T.
	Movable = .T.
	Name = "FORGUIASC"
	nauto = 0
	nitem = .F.
	nohay = .F.
	Picture = ..\graphics\fondoazul.jpg
	proveedor = 0
	ShowWindow = 1
	swac = .F.
	swc = .F.
	swcreditos = .F.
	swk = .F.
	tipo = 0
	Width = 833
	WindowType = 0

	ADD OBJECT 'chkflete' AS checkbox WITH ;
		Alignment = 0, ;
		Caption = "\<Flete", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 16, ;
		Left = 12, ;
		Name = "chkflete", ;
		SpecialEffect = 1, ;
		TabIndex = 40, ;
		Top = 447, ;
		Visible = .F., ;
		Width = 47
		*< END OBJECT: BaseClass="checkbox" />

	ADD OBJECT 'chkpercepcion' AS checkbox WITH ;
		Alignment = 0, ;
		BackStyle = 0, ;
		Caption = "Percepción:", ;
		Enabled = .T., ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 17, ;
		Left = 553, ;
		Name = "chkpercepcion", ;
		TabIndex = 51, ;
		Top = 501, ;
		Width = 93
		*< END OBJECT: BaseClass="checkbox" />

	ADD OBJECT 'Cmbforma' AS cmbforma WITH ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 24, ;
		Left = 726, ;
		Name = "Cmbforma", ;
		SpecialEffect = 1, ;
		TabIndex = 21, ;
		Top = 70, ;
		WhatsThisHelpID = -1, ;
		Width = 97
		*< END OBJECT: ClassLib="..\libs\sisfotos.vcx" BaseClass="combobox" />

	ADD OBJECT 'Cmbmoneda' AS cmbmoneda WITH ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 24, ;
		Left = 295, ;
		Name = "Cmbmoneda", ;
		SpecialEffect = 1, ;
		TabIndex = 18, ;
		Top = 70, ;
		Width = 88
		*< END OBJECT: ClassLib="..\libs\sisfotos.vcx" BaseClass="combobox" />

	ADD OBJECT 'Cmdaceptar' AS cmdaceptar WITH ;
		Caption = "\<Grabar ", ;
		Enabled = .T., ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 36, ;
		Left = 4, ;
		MousePointer = 15, ;
		Name = "Cmdaceptar", ;
		Picture = ..\..\, ;
		TabIndex = 22, ;
		Top = 507, ;
		Width = 84
		*< END OBJECT: ClassLib="..\libs\sisfotos.vcx" BaseClass="commandbutton" />

	ADD OBJECT 'Cmdanular1' AS cmdanular WITH ;
		Caption = "Borrar Todo", ;
		Enabled = .T., ;
		FontBold = .T., ;
		Height = 36, ;
		Left = 170, ;
		Name = "Cmdanular1", ;
		Picture = ..\..\, ;
		TabIndex = 53, ;
		Top = 507, ;
		Width = 84
		*< END OBJECT: ClassLib="..\libs\sisfotos.vcx" BaseClass="commandbutton" />

	ADD OBJECT 'Cmdborraritem' AS cmdborraritem WITH ;
		Height = 26, ;
		Left = 420, ;
		Name = "Cmdborraritem", ;
		TabIndex = 32, ;
		Top = 516, ;
		Width = 38
		*< END OBJECT: ClassLib="..\libs\sisfotos.vcx" BaseClass="commandbutton" />

	ADD OBJECT 'Cmdcerraro' AS cmdcerraro WITH ;
		Caption = "\<Retornar", ;
		Enabled = .T., ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 36, ;
		Left = 252, ;
		MousePointer = 15, ;
		Name = "Cmdcerraro", ;
		Picture = ..\..\, ;
		TabIndex = 24, ;
		Top = 507, ;
		Width = 84
		*< END OBJECT: ClassLib="..\libs\sisfotos.vcx" BaseClass="commandbutton" />

	ADD OBJECT 'cmdeliminar' AS commandbutton WITH ;
		Caption = "\<Borrar Item", ;
		Enabled = .T., ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 36, ;
		Left = 87, ;
		MousePointer = 15, ;
		Name = "cmdeliminar", ;
		Picture = ..\..\, ;
		TabIndex = 23, ;
		Top = 507, ;
		Width = 84
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'cmdlista' AS commandbutton WITH ;
		Caption = "Lista Guias", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 53, ;
		Left = 449, ;
		Name = "cmdlista", ;
		Picture = ..\graphics\65.bmp, ;
		PicturePosition = 7, ;
		TabIndex = 9, ;
		Top = 5, ;
		Width = 90, ;
		WordWrap = .T.
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'cmdver' AS commandbutton WITH ;
		Caption = "Proveedores", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 54, ;
		Left = 6, ;
		Name = "cmdver", ;
		Picture = ..\graphics\people.bmp, ;
		PicturePosition = 7, ;
		TabIndex = 8, ;
		Top = 4, ;
		Width = 90, ;
		WordWrap = .T.
		*< END OBJECT: BaseClass="commandbutton" />

	ADD OBJECT 'Container1' AS container WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		BorderColor = 255,255,255, ;
		ForeColor = 255,255,255, ;
		Height = 94, ;
		Left = 4, ;
		Name = "Container1", ;
		TabIndex = 1, ;
		Top = 3, ;
		Width = 824
		*< END OBJECT: BaseClass="container" />

	ADD OBJECT 'Container2' AS container WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		BorderColor = 255,255,255, ;
		Height = 87, ;
		Left = 516, ;
		Name = "Container2", ;
		TabIndex = 34, ;
		Top = 413, ;
		Width = 308
		*< END OBJECT: BaseClass="container" />

	ADD OBJECT 'Grivtag' AS grivtag WITH ;
		AllowHeaderSizing = .T., ;
		AllowRowSizing = .T., ;
		BackColor = 234,234,234, ;
		ColumnCount = 11, ;
		DeleteMark = .F., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		HeaderHeight = 29, ;
		Height = 306, ;
		Left = 2, ;
		Name = "Grivtag", ;
		Panel = 1, ;
		RecordMark = .F., ;
		RowHeight = 16, ;
		TabIndex = 38, ;
		Themes = .F., ;
		Top = 103, ;
		Width = 826, ;
		Column1.BackColor = 234,234,234, ;
		Column1.FontName = "Tahoma", ;
		Column1.FontSize = 8, ;
		Column1.head1.Alignment = 2, ;
		Column1.head1.BackColor = 187,193,247, ;
		Column1.head1.FontBold = .F., ;
		Column1.head1.FontName = "Tahoma", ;
		Column1.head1.FontSize = 8, ;
		Column1.head1.Name = "head1", ;
		Column1.Name = "Column1", ;
		Column1.Resizable = .T., ;
		Column1.Text1.BackColor = 234,234,234, ;
		Column1.Text1.FontName = "Tahoma", ;
		Column1.Text1.FontSize = 8, ;
		Column1.Text1.Name = "Text1", ;
		Column1.Width = 253, ;
		Column2.BackColor = 234,234,234, ;
		Column2.FontName = "Tahoma", ;
		Column2.FontSize = 8, ;
		Column2.Header1.Alignment = 2, ;
		Column2.Header1.BackColor = 187,193,247, ;
		Column2.Header1.Caption = "Unidad", ;
		Column2.Header1.FontBold = .F., ;
		Column2.Header1.FontName = "Tahoma", ;
		Column2.Header1.FontSize = 8, ;
		Column2.Header1.Name = "Header1", ;
		Column2.Name = "Column2", ;
		Column2.Resizable = .T., ;
		Column2.Text1.BackColor = 234,234,234, ;
		Column2.Text1.FontName = "Tahoma", ;
		Column2.Text1.FontSize = 8, ;
		Column2.Text1.Name = "Text1", ;
		Column2.Width = 36, ;
		Column3.BackColor = 234,234,234, ;
		Column3.FontName = "Tahoma", ;
		Column3.FontSize = 8, ;
		Column3.Header1.Alignment = 2, ;
		Column3.Header1.BackColor = 187,193,247, ;
		Column3.Header1.Caption = "Cantidad", ;
		Column3.Header1.FontBold = .F., ;
		Column3.Header1.FontName = "Tahoma", ;
		Column3.Header1.FontSize = 8, ;
		Column3.Header1.Name = "Header1", ;
		Column3.Name = "Column3", ;
		Column3.ReadOnly = .T., ;
		Column3.Resizable = .T., ;
		Column3.Text1.BackColor = 234,234,234, ;
		Column3.Text1.FontName = "Tahoma", ;
		Column3.Text1.FontSize = 8, ;
		Column3.Text1.Name = "Text1", ;
		Column3.Text1.ReadOnly = .T., ;
		Column3.Width = 66, ;
		Column4.BackColor = 234,234,234, ;
		Column4.FontName = "Tahoma", ;
		Column4.FontSize = 8, ;
		Column4.Format = "99,999.9999", ;
		Column4.Header1.Alignment = 2, ;
		Column4.Header1.BackColor = 187,193,247, ;
		Column4.Header1.FontBold = .F., ;
		Column4.Header1.FontName = "Tahoma", ;
		Column4.Header1.FontSize = 8, ;
		Column4.Header1.Name = "Header1", ;
		Column4.InputMask = "99,999.9999", ;
		Column4.Name = "Column4", ;
		Column4.Resizable = .T., ;
		Column4.Text1.BackColor = 234,234,234, ;
		Column4.Text1.FontName = "Tahoma", ;
		Column4.Text1.FontSize = 8, ;
		Column4.Text1.Name = "Text1", ;
		Column4.Width = 62, ;
		Column5.BackColor = 234,234,234, ;
		Column5.FontName = "Tahoma", ;
		Column5.FontSize = 8, ;
		Column5.Format = "99.9999", ;
		Column5.Header1.Alignment = 2, ;
		Column5.Header1.BackColor = 187,193,247, ;
		Column5.Header1.Caption = "Dscto(1)", ;
		Column5.Header1.FontBold = .F., ;
		Column5.Header1.FontName = "Tahoma", ;
		Column5.Header1.FontSize = 8, ;
		Column5.Header1.Name = "Header1", ;
		Column5.InputMask = "99.9999", ;
		Column5.Name = "Column5", ;
		Column5.ReadOnly = .F., ;
		Column5.Resizable = .T., ;
		Column5.Text1.BackColor = 234,234,234, ;
		Column5.Text1.FontName = "Tahoma", ;
		Column5.Text1.FontSize = 8, ;
		Column5.Text1.Name = "Text1", ;
		Column5.Text1.ReadOnly = .F., ;
		Column5.Width = 49, ;
		Column6.BackColor = 234,234,234, ;
		Column6.FontName = "Tahoma", ;
		Column6.FontSize = 8, ;
		Column6.Format = "99.9999", ;
		Column6.InputMask = "99.9999", ;
		Column6.Name = "Column6", ;
		Column6.Resizable = .T., ;
		Column6.Width = 52, ;
		Column7.BackColor = 234,234,234, ;
		Column7.FontName = "Tahoma", ;
		Column7.FontSize = 8, ;
		Column7.Format = "99.9999", ;
		Column7.InputMask = "99.9999", ;
		Column7.Name = "Column7", ;
		Column7.Resizable = .T., ;
		Column7.Width = 54, ;
		Column8.BackColor = 234,234,234, ;
		Column8.FontName = "Tahoma", ;
		Column8.FontSize = 8, ;
		Column8.Format = "99,999.99", ;
		Column8.InputMask = "99,999.99", ;
		Column8.Name = "Column8", ;
		Column8.ReadOnly = .T., ;
		Column8.Resizable = .T., ;
		Column8.Width = 64, ;
		Column9.BackColor = 234,234,234, ;
		Column9.CurrentControl = "chkpercepcion", ;
		Column9.FontName = "Tahoma", ;
		Column9.FontSize = 8, ;
		Column9.Name = "Column9", ;
		Column9.Sparse = .F., ;
		Column9.Width = 38, ;
		Column10.BackColor = 234,234,234, ;
		Column10.FontName = "Tahoma", ;
		Column10.FontSize = 8, ;
		Column10.Name = "Column10", ;
		Column10.Width = 54, ;
		Column11.BackColor = 234,234,234, ;
		Column11.CurrentControl = "chkcosto", ;
		Column11.FontName = "Tahoma", ;
		Column11.FontSize = 8, ;
		Column11.Name = "Column11", ;
		Column11.Sparse = .F., ;
		Column11.Width = 53
		*< END OBJECT: ClassLib="..\libs\sisfotos.vcx" BaseClass="grid" />

	ADD OBJECT 'Grivtag.Column10.Header1' AS header WITH ;
		Alignment = 2, ;
		BackColor = 187,193,247, ;
		Caption = "Valor", ;
		FontBold = .F., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Name = "Header1"
		*< END OBJECT: BaseClass="header" />

	ADD OBJECT 'Grivtag.Column10.Text1' AS textbox WITH ;
		BackColor = 234,234,234, ;
		BorderStyle = 0, ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Margin = 0, ;
		Name = "Text1"
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'Grivtag.Column11.chkcosto' AS checkbox WITH ;
		Alignment = 0, ;
		Caption = "", ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 17, ;
		Left = 17, ;
		Name = "chkcosto", ;
		Top = 16, ;
		Width = 60
		*< END OBJECT: BaseClass="checkbox" />

	ADD OBJECT 'Grivtag.Column11.Header1' AS header WITH ;
		Alignment = 2, ;
		BackColor = 187,193,247, ;
		Caption = "Actualizar Costo", ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Name = "Header1", ;
		WordWrap = .T.
		*< END OBJECT: BaseClass="header" />

	ADD OBJECT 'Grivtag.Column11.Text1' AS textbox WITH ;
		BackColor = 255,255,255, ;
		BorderStyle = 0, ;
		ForeColor = 0,0,0, ;
		Margin = 0, ;
		Name = "Text1"
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'Grivtag.Column6.Header1' AS header WITH ;
		Alignment = 2, ;
		BackColor = 187,193,247, ;
		Caption = "Dscto(2)", ;
		FontBold = .F., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Name = "Header1"
		*< END OBJECT: BaseClass="header" />

	ADD OBJECT 'Grivtag.Column6.Text1' AS textbox WITH ;
		BackColor = 234,234,234, ;
		BorderStyle = 0, ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Margin = 0, ;
		Name = "Text1"
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'Grivtag.Column7.Header1' AS header WITH ;
		Alignment = 2, ;
		BackColor = 187,193,247, ;
		Caption = "Dscto(3)", ;
		FontBold = .F., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Name = "Header1"
		*< END OBJECT: BaseClass="header" />

	ADD OBJECT 'Grivtag.Column7.Text1' AS textbox WITH ;
		BackColor = 234,234,234, ;
		BorderStyle = 0, ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Margin = 0, ;
		Name = "Text1"
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'Grivtag.Column8.Header1' AS header WITH ;
		Alignment = 2, ;
		BackColor = 187,193,247, ;
		Caption = "Importe", ;
		FontBold = .F., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Name = "Header1"
		*< END OBJECT: BaseClass="header" />

	ADD OBJECT 'Grivtag.Column8.Text1' AS textbox WITH ;
		BackColor = 234,234,234, ;
		BorderStyle = 0, ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Margin = 0, ;
		Name = "Text1", ;
		ReadOnly = .T.
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'Grivtag.Column9.chkpercepcion' AS checkbox WITH ;
		Alignment = 0, ;
		BackColor = 234,234,234, ;
		Caption = "", ;
		FontSize = 8, ;
		Height = 17, ;
		Left = 13, ;
		Name = "chkpercepcion", ;
		Top = 28, ;
		Width = 60
		*< END OBJECT: BaseClass="checkbox" />

	ADD OBJECT 'Grivtag.Column9.Header1' AS header WITH ;
		Alignment = 2, ;
		BackColor = 187,193,247, ;
		Caption = "Perc.", ;
		FontBold = .F., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Name = "Header1"
		*< END OBJECT: BaseClass="header" />

	ADD OBJECT 'Grivtag.Column9.Text1' AS textbox WITH ;
		BackColor = 255,255,255, ;
		BorderStyle = 0, ;
		FontName = "Tahoma", ;
		ForeColor = 0,0,0, ;
		Margin = 0, ;
		Name = "Text1"
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'Label1' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "Guia Remisión:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Height = 12, ;
		Left = 545, ;
		Name = "Label1", ;
		TabIndex = 2, ;
		Top = 6, ;
		Width = 83
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label10' AS label WITH ;
		BackStyle = 0, ;
		Caption = "Igv:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Height = 17, ;
		Left = 515, ;
		Name = "Label10", ;
		TabIndex = 33, ;
		Top = 42, ;
		Width = 21
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label12' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "Total Compra:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Height = 15, ;
		Left = 629, ;
		Name = "Label12", ;
		TabIndex = 25, ;
		Top = 475, ;
		Width = 82
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label13' AS label WITH ;
		BackStyle = 0, ;
		Caption = "Total General:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 12, ;
		Left = 721, ;
		Name = "Label13", ;
		TabIndex = 47, ;
		Top = 504, ;
		Width = 86
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label14' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "Valor Compra:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Height = 17, ;
		Left = 628, ;
		Name = "Label14", ;
		TabIndex = 26, ;
		Top = 422, ;
		Width = 78
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label15' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "IGV:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Height = 17, ;
		Left = 649, ;
		Name = "Label15", ;
		TabIndex = 27, ;
		Top = 450, ;
		Width = 23
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label16' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "Fecha_Reg.:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Height = 13, ;
		Left = 217, ;
		Name = "Label16", ;
		TabIndex = 44, ;
		Top = 55, ;
		Width = 67
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label2' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "Factura:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Height = 13, ;
		Left = 8, ;
		Name = "Label2", ;
		TabIndex = 3, ;
		Top = 55, ;
		Width = 48
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label24' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "Costo Anterior:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		FontUnderline = .T., ;
		ForeColor = 0,0,0, ;
		Height = 15, ;
		Left = 4, ;
		Name = "Label24", ;
		TabIndex = 48, ;
		Top = 416, ;
		Width = 91
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label25' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "Costo  Actual:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		FontUnderline = .T., ;
		ForeColor = 0,0,0, ;
		Height = 15, ;
		Left = 172, ;
		Name = "Label25", ;
		TabIndex = 49, ;
		Top = 417, ;
		Width = 81
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label3' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "Fecha Guia:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Height = 13, ;
		Left = 664, ;
		Name = "Label3", ;
		TabIndex = 4, ;
		Top = 6, ;
		Width = 67
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label4' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "Fec_Factura:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Height = 13, ;
		Left = 131, ;
		Name = "Label4", ;
		TabIndex = 5, ;
		Top = 55, ;
		Width = 76
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label6' AS label WITH ;
		Caption = ">> Peso en TM", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 12, ;
		Left = 130, ;
		Name = "Label6", ;
		TabIndex = 42, ;
		Top = 450, ;
		Visible = .F., ;
		Width = 101
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label7' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "Moneda:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Height = 15, ;
		Left = 297, ;
		Name = "Label7", ;
		TabIndex = 6, ;
		Top = 55, ;
		Width = 53
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label8' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "Dólar:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Height = 14, ;
		Left = 752, ;
		Name = "Label8", ;
		TabIndex = 7, ;
		Top = 6, ;
		Width = 35
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Label9' AS label WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Caption = "Pago:", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 0,0,0, ;
		Height = 14, ;
		Left = 739, ;
		Name = "Label9", ;
		TabIndex = 31, ;
		Top = 55, ;
		Width = 35
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'lblproveedor' AS label WITH ;
		BackStyle = 0, ;
		Caption = "", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		ForeColor = 255,255,255, ;
		Height = 22, ;
		Left = 98, ;
		Name = "lblproveedor", ;
		TabIndex = 43, ;
		Top = 19, ;
		Width = 345
		*< END OBJECT: BaseClass="label" />

	ADD OBJECT 'Optexoneraciones1' AS optexoneraciones WITH ;
		BackStyle = 0, ;
		BorderStyle = 1, ;
		Height = 33, ;
		Left = 385, ;
		Name = "Optexoneraciones1", ;
		TabIndex = 19, ;
		Top = 59, ;
		Width = 179, ;
		optexonerada.BackColor = 128,128,128, ;
		optexonerada.BackStyle = 0, ;
		optexonerada.FontBold = .T., ;
		optexonerada.FontSize = 8, ;
		optexonerada.ForeColor = 0,0,0, ;
		optexonerada.Height = 17, ;
		optexonerada.Left = 5, ;
		optexonerada.Name = "optexonerada", ;
		optexonerada.Top = 10, ;
		optexonerada.Width = 80, ;
		optnoexonerada.BackColor = 128,128,128, ;
		optnoexonerada.BackStyle = 0, ;
		optnoexonerada.FontBold = .T., ;
		optnoexonerada.FontSize = 8, ;
		optnoexonerada.ForeColor = 0,0,0, ;
		optnoexonerada.Height = 17, ;
		optnoexonerada.Left = 81, ;
		optnoexonerada.Name = "optnoexonerada", ;
		optnoexonerada.Top = 10, ;
		optnoexonerada.Width = 93
		*< END OBJECT: ClassLib="..\libs\sisven.vcx" BaseClass="optiongroup" />

	ADD OBJECT 'Optigv' AS optigv WITH ;
		BackColor = 128,128,128, ;
		BackStyle = 0, ;
		Height = 33, ;
		Left = 566, ;
		Name = "Optigv", ;
		SpecialEffect = 1, ;
		TabIndex = 20, ;
		Top = 59, ;
		Width = 159, ;
		optincluido.BackColor = 128,128,128, ;
		optincluido.BackStyle = 0, ;
		optincluido.FontName = "Tahoma", ;
		optincluido.FontSize = 8, ;
		optincluido.ForeColor = 0,0,0, ;
		optincluido.Height = 17, ;
		optincluido.Left = 4, ;
		optincluido.Name = "optincluido", ;
		optincluido.Top = 10, ;
		optincluido.Width = 74, ;
		optnoincluir.BackColor = 128,128,128, ;
		optnoincluir.BackStyle = 0, ;
		optnoincluir.FontName = "Tahoma", ;
		optnoincluir.FontSize = 8, ;
		optnoincluir.ForeColor = 0,0,0, ;
		optnoincluir.Height = 17, ;
		optnoincluir.Left = 75, ;
		optnoincluir.Name = "optnoincluir", ;
		optnoincluir.Top = 10, ;
		optnoincluir.Width = 92
		*< END OBJECT: ClassLib="..\libs\sisfotos.vcx" BaseClass="optiongroup" />

	ADD OBJECT 'txtcostoact' AS textbox WITH ;
		Alignment = 3, ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Format = "9,999.99", ;
		Height = 20, ;
		InputMask = "9,999.99", ;
		Left = 258, ;
		Name = "txtcostoact", ;
		ReadOnly = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 45, ;
		Top = 415, ;
		Value = 0, ;
		Visible = .T., ;
		Width = 72
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtcostoant' AS textbox WITH ;
		Alignment = 3, ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Format = "9,999.99", ;
		Height = 20, ;
		InputMask = "9,999.99", ;
		Left = 97, ;
		Name = "txtcostoant", ;
		ReadOnly = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 46, ;
		Top = 414, ;
		Value = 0, ;
		Visible = .T., ;
		Width = 72
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtdolar' AS textbox WITH ;
		Alignment = 3, ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Format = "9.9999", ;
		Height = 24, ;
		InputMask = "9.9999", ;
		Left = 750, ;
		Name = "txtdolar", ;
		SelectOnEntry = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 13, ;
		Top = 20, ;
		Value = 0, ;
		Width = 68
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtfechag' AS textbox WITH ;
		Alignment = 3, ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 24, ;
		Left = 659, ;
		Name = "txtfechag", ;
		ReadOnly = .T., ;
		SelectOnEntry = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 12, ;
		Top = 20, ;
		Value = (date()), ;
		Width = 76
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'Txtfechar' AS txtfechar WITH ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 24, ;
		Left = 129, ;
		Name = "Txtfechar", ;
		SpecialEffect = 1, ;
		TabIndex = 16, ;
		Top = 70, ;
		Width = 80
		*< END OBJECT: ClassLib="..\libs\sisfotos.vcx" BaseClass="textbox" />

	ADD OBJECT 'Txtfechar1' AS txtfechar WITH ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 24, ;
		Left = 213, ;
		Name = "Txtfechar1", ;
		SpecialEffect = 1, ;
		StatusBarText = "Ingrese la fecha cuando se registra el documento", ;
		TabIndex = 17, ;
		Top = 70, ;
		Width = 80
		*< END OBJECT: ClassLib="..\libs\sisfotos.vcx" BaseClass="textbox" />

	ADD OBJECT 'txtigv' AS textbox WITH ;
		Alignment = 3, ;
		BorderColor = 94,174,255, ;
		ControlSource = "", ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Format = "99,999.99", ;
		Height = 25, ;
		InputMask = "99,999.99", ;
		Left = 711, ;
		Name = "txtigv", ;
		ReadOnly = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 29, ;
		Top = 444, ;
		Value = 0, ;
		Width = 100
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtigv1' AS textbox WITH ;
		Alignment = 3, ;
		BorderColor = 94,174,255, ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Format = "99,999.99", ;
		Height = 25, ;
		InputMask = "99,999.99", ;
		Left = 525, ;
		Name = "txtigv1", ;
		SelectOnEntry = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 36, ;
		Top = 444, ;
		Value = 0, ;
		Width = 100
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtnumero' AS textbox WITH ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 24, ;
		Left = 49, ;
		MaxLength = 8, ;
		Name = "txtnumero", ;
		SelectOnEntry = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 15, ;
		Top = 70, ;
		Width = 76
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtnumerog' AS textbox WITH ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 24, ;
		Left = 585, ;
		MaxLength = 8, ;
		Name = "txtnumerog", ;
		ReadOnly = .T., ;
		SelectOnEntry = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 11, ;
		Top = 20, ;
		Width = 60
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtpercepcion' AS textbox WITH ;
		Alignment = 3, ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Format = "999,999.99", ;
		Height = 22, ;
		InputMask = "999,999.99", ;
		Left = 552, ;
		Name = "txtpercepcion", ;
		ReadOnly = .F., ;
		TabIndex = 50, ;
		Top = 519, ;
		Value = 0, ;
		Width = 95
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtpeso' AS textbox WITH ;
		Alignment = 3, ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Format = "9,999.99", ;
		Height = 22, ;
		InputMask = "9,999.99", ;
		Left = 58, ;
		Name = "txtpeso", ;
		ReadOnly = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 41, ;
		Top = 445, ;
		Value = 0, ;
		Visible = .F., ;
		Width = 69
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtredondeo' AS textbox WITH ;
		Alignment = 3, ;
		Format = "9999999.99", ;
		Height = 25, ;
		InputMask = "9999999.99", ;
		Left = 360, ;
		Name = "txtredondeo", ;
		TabIndex = 39, ;
		Top = 468, ;
		Value = 0, ;
		Visible = .F., ;
		Width = 97
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtserie' AS textbox WITH ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 24, ;
		Left = 8, ;
		MaxLength = 4, ;
		Name = "txtserie", ;
		SelectOnEntry = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 14, ;
		Top = 70, ;
		Width = 40
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtserieg' AS textbox WITH ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Height = 24, ;
		Left = 544, ;
		MaxLength = 4, ;
		Name = "txtserieg", ;
		ReadOnly = .T., ;
		SelectOnEntry = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 10, ;
		Top = 20, ;
		Width = 37
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txttgeneral' AS textbox WITH ;
		Alignment = 3, ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Format = "999,999.99", ;
		Height = 22, ;
		InputMask = "999,999.99", ;
		Left = 717, ;
		Name = "txttgeneral", ;
		ReadOnly = .T., ;
		TabIndex = 52, ;
		Top = 519, ;
		Value = 0, ;
		Width = 95
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txttotal' AS textbox WITH ;
		Alignment = 3, ;
		BackColor = 192,192,192, ;
		BorderColor = 94,174,255, ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Format = "999,999.99", ;
		Height = 25, ;
		InputMask = "999,999.99", ;
		Left = 711, ;
		Name = "txttotal", ;
		ReadOnly = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 30, ;
		Top = 471, ;
		Value = 0, ;
		Width = 100
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txttotal1' AS textbox WITH ;
		Alignment = 3, ;
		BorderColor = 94,174,255, ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Format = "999,999.99", ;
		Height = 25, ;
		InputMask = "999,999.99", ;
		Left = 525, ;
		Name = "txttotal1", ;
		SelectOnEntry = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 37, ;
		Top = 471, ;
		Value = 0, ;
		Width = 100
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtvalor' AS textbox WITH ;
		Alignment = 3, ;
		BorderColor = 94,174,255, ;
		FontBold = .T., ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Format = "999,999.99", ;
		Height = 25, ;
		InputMask = "999,999.99", ;
		Left = 711, ;
		Name = "txtvalor", ;
		ReadOnly = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 28, ;
		Top = 417, ;
		Value = 0, ;
		Width = 100
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'txtvalor1' AS textbox WITH ;
		Alignment = 3, ;
		BorderColor = 94,174,255, ;
		FontName = "Tahoma", ;
		FontSize = 8, ;
		Format = "999,999.99", ;
		Height = 25, ;
		InputMask = "999,999.99", ;
		Left = 525, ;
		Name = "txtvalor1", ;
		SelectOnEntry = .T., ;
		SpecialEffect = 1, ;
		TabIndex = 35, ;
		Top = 417, ;
		Value = 0, ;
		Width = 100
		*< END OBJECT: BaseClass="textbox" />
	
	PROCEDURE calcularcostosactuales
		Local nd,np1
		nd=Thisform.txtdolar.Value
		If Thisform.optigv.optnoincluir.Value=1 Then
			ni=fe_gene.igv
		Else
			ni=1
		Endif
		Select tmpgc
		Scan All
			np1=tmpgc.Prec*((100-tmpgc.d1)/100*(100-tmpgc.d2)/100*(100-tmpgc.d3)/100)*ni
			Replace tmpgc.costoact With Round(Iif(Thisform.cmbmoneda.ListIndex=2,(np1*nd)+tmpgc.gast,np1+tmpgc.gast),2) In tmpgc
		Endscan
		
		
	ENDPROC

	PROCEDURE costoactual
		Local nd,np1
		nd=Thisform.txtdolar.Value
		If Thisform.optigv.optnoincluir.Value=1 Then
			np1=tmpgc.Prec*((100-tmpgc.d1)/100*(100-tmpgc.d2)/100*(100-tmpgc.d3)/100)*fe_gene.igv
		Else
			np1=tmpgc.Prec*(100-tmpgc.d1)/100*(100-tmpgc.d2)/100*(100-tmpgc.d3)/100
		Endif
		Replace tmpgc.costoact With Round(Iif(Thisform.cmbmoneda.ListIndex=2,(np1*nd),np1),2) In tmpgc
		
	ENDPROC

	PROCEDURE ingresadeudas
		Local sw As Integer
		If !Used("tmpd")
			Thisform.swcreditos=0
			Return
		Endif
		With Thisform
			r=IngresaCabeceraDeudas(.nauto,.proveedor,Left(.cmbmoneda.Value,1),;
				.txtfechar.Value,Iif(.txttotal1.Value>0,.txttotal1.Value,.txttotal.Value),goapp.nidusua,goapp.tienda,Id())
			If r=0 Then
				Return 0
			Endif
			sw=1
			Select tmpd
			Go Top
			Scan All
				If IngresaDetalleDeudas(r,tmpd.ndoc,'C',.txtfechar.Value,tmpd.fevto,tmpd.tipo,.txtdolar.Value,tmpd.Impo,;
						goapp.nidusua,Id(),goapp.tienda,tmpd.ndoc,tmpd.detalle,'CA')=0 Then
					sw=0
					Exit
				Endif
			Endscan
		Endwith
		If sw=1
			Return 1
		Else
			Return 0
		Endif
	ENDPROC

	PROCEDURE ingresaguias
		With Thisform
			nauto=.nauto
			Select tmpgc
			Locate For tmpgc.idauto=nauto
			If Found()
				Messagebox("Guia Ya Seleccionada",16,MSGTITULO)
				Return
			Endif
			TEXT TO lc NOSHOW
			   SELECT a.idart as coda,a.descri,a.unid,a.idkar,a.cant,a.prec,a.alma,a.peso,x.prec as flete,
			   b.tmon,Round((b.prec*v.igv)+x.prec,2) as costo,idusua,
			   a.idauto,a.idprov as codp,a.ndoc,a.fech,a.prod_idco FROM vmuestracompras as a inner join fe_art as b on b.idart=a.idart
			   inner join fe_fletes as x on x.idflete=b.idflete, fe_gene as v where a.idauto=?nauto order by a.idkar 
			ENDTEXT
				IF verificaconexion()=0 then
		RETURN 0
		endif
			ncon=Abreconexion()
			If SQLExec(ncon,lc,"guias")<1
				errorbd(lc)
				Return
			Endif
			CierraConexion(ncon)
			Select guias
			x=0
			Do While !Eof()
				x=x+1
				If x=1
					.encontrado="V"
					.txtfechag.Value=guias.fech
					.txtserieg.Value=Left(guias.ndoc,4)
					.txtnumerog.Value=Substr(guias.ndoc,8)
				Endif
				.nitem=.nitem+1
				Insert Into tmpgc(coda,Desc,unid,cant,Prec,Impo,nreg,idauto,idcosto,gast,costoant,nitem,fecha,ndoc,idusua)Values(guias.coda,;
					guias.Descri,guias.unid,guias.cant,guias.Prec,guias.cant*guias.Prec,guias.idkar,guias.idauto,guias.prod_idco,guias.flete,;
					Iif(guias.tmon='D',Round(guias.costo*fe_gene.dola,2),guias.costo),.nitem,guias.fech,guias.ndoc,guias.idusua)
				Skip
			Enddo
			If .encontrado<>"V"
				Messagebox("Nº de Guia No Registrado",48+0+0,MSGTITULO)
				.txtserieg.SetFocus
				Return
			Endif
			.grivtag.column4.text1.LostFocus
			.cmdaceptar.Enabled=.T.
			.txtfechar.Value=.txtfechag.Value
			.grivtag.RecordSource="tmpgc"
			.grivtag.column1.ControlSource="tmpgc.desc"
			.grivtag.column2.ControlSource="tmpgc.unid"
			.grivtag.column3.ControlSource="tmpgc.cant"
			.grivtag.column4.ControlSource="tmpgc.prec"
			.grivtag.column5.ControlSource="tmpgc.d1"
			.grivtag.column6.ControlSource="tmpgc.d2"
			.grivtag.column7.ControlSource="tmpgc.d3"
			.grivtag.column8.ControlSource="tmpgc.impo"
			.grivtag.column9.ControlSource="tmpgc.swp"
			.grivtag.column10.ControlSource="tmpgc.perc"
			Go Top In tmpgc
			.grivtag.Refresh
			.txtfechag.SetFocus
		Endwith
		
	ENDPROC

	PROCEDURE Init
		Settear()
		If datosGlobales()=0 Then
			Return .F.
		Endif
		Create Cursor tmpgc(coda N(8),Desc c(80),unid c(4),cant N(10,2),Prec N(13,8),;
			peso N(9,4),d1 N(6,4),d2 N(6,4),d3 N(6,4),Impo N(10,2),perc N(10,2),swp L(1),;
			swcosto N(2),nreg N(8),idauto N(11),idcosto N(11),costoact N(10,2),gast N(6,4),costoant N(8,2),nitem N(8),fecha d,ndoc c(10),idusua N(8))
		Select tmpgc
		Index On Desc Tag Desc
		Index On nitem Tag items
		With This
			.grivtag.RecordSource=""
			.swac=1
			.swk=1
			.swcreditos=1
			.swc=1
			.nitem=0
			.txtdolar.Value=fe_gene.dola
			.grivtag.RecordSource="tmpgc"
			.grivtag.column1.ControlSource="tmpgc.desc"
			.grivtag.column2.ControlSource="tmpgc.unid"
			.grivtag.column3.ControlSource="tmpgc.cant"
			.grivtag.column4.ControlSource="tmpgc.prec"
			.grivtag.column5.ControlSource="tmpgc.d1"
			.grivtag.column6.ControlSource="tmpgc.d2"
			.grivtag.column7.ControlSource="tmpgc.d3"
			.grivtag.column8.ControlSource="tmpgc.impo"
			.grivtag.column9.ControlSource="tmpgc.swp"
			.grivtag.column10.ControlSource="tmpgc.perc"
			.grivtag.column11.ControlSource="tmpgc.swcosto"
			.SetAll("dynamicbackcolor","iif(tmpgc.costoact>tmpgc.costoant,RGB(128,0,0),RGB(233,233,233))","Column")
			.SetAll("dynamicforecolor","iif(tmpgc.costoact>tmpgc.costoant,RGB(255,255,255),RGB(0,0,0))","Column")
			.cmbmoneda.ListIndex=1
			.cmbforma.ListIndex=1
		*thisform.cmdver.Click()
		Endwith
		
	ENDPROC

	PROCEDURE limpiar
		With Thisform
			.txtvalor.Value=0
			.txtigv.Value=0
			.txttotal.Value=0
			.txtserieg.Value=""
			.txtnumerog.Value=""
			.txtserie.Value=""
			.txtnumero.Value=""
			.txtvalor1.Value=0
			.txtigv1.Value=0
			.txttotal1.Value=0
			.chkflete.Value=0
			.txtpeso.Value=0
			.lblproveedor.Caption=""
			.encontrado=""
			.txtpercepcion.Value=0
			.nitem=0
			.txttgeneral.Value=0
			.txtcostoact.Value=0
			.txtcostoant.Value=0
		Endwith
		
	ENDPROC

	PROCEDURE nuevo
		Zap In tmpgc
		With  Thisform
			.grivtag.Refresh
			.limpiar()
			.txtserieg.SetFocus
		Endwith
		
	ENDPROC

	PROCEDURE validar
		Do Case
		Case Len(Alltrim(Thisform.txtserie.Value))<3 Or Len(Alltrim(Thisform.txtnumero.Value))<7
			Thisform.mensaje="Ingrese Un Nº de Documento"
			Return .F.
		Case !esfechaValida(Thisform.txtfechar.Value) Or !esfechaValida(Thisform.txtfechar1.Value)
			Thisform.mensaje="Fecha de Registro No es Válida"
			Return  .F.
		Case Year(Thisform.txtfechar.Value)<>Val(goapp.año) Or Year(Thisform.txtfechar1.Value)<>Val(goapp.año)
			Thisform.mensaje="Fecha No Permitida Por el Sistema"
			Return .F.
		Case PermiteIngresoCompras(Thisform.txtserie.Value+Thisform.txtnumero.Value,'01',Thisform.proveedor,0,Thisform.txtfechar.Value)=0
			Thisform.mensaje="No de Documento de Compra Ya Registrado"
			Return .F.
		Case  permiteIngresox(Thisform.txtfechar1.Value)=0
			Thisform.mensaje="No Es posible Registrar en esta Fecha estan bloqueados Los Ingresos"
			Return .F.
		Case Empty(Thisform.proveedor)
			Thisform.mensaje="Seleccione Un Proveedor"
			Return .F.
		Otherwise
			Return .T.
		Endcase
		
	ENDPROC

	PROCEDURE chkflete.Click
		if thisform.txtpeso.value>0
		   sele tmpgc
		   loca for left(desc,5)="FLETE"
		   if found()
		      delete 
		      thisform.flete=0
		      thisform.grivtag.refresh
		      thisform.grivtag.column4.text1.lostfocus
		      thisform.grivtag.column1.text1.setfocus
		    else  
		      insert into tmpgc(desc,unid,cant)values("FLETE","TM.",thisform.txtpeso.value)
		      thisform.grivtag.column1.text1.setfocus
		    endif  
		 else
		   this.value=0
		   messagebox("No Hay Productos en Este Documentos Para Aplicar Gastos Por Flete",48,MSGTITULO)
		   thisform.txtserieg.setfocus
		ENDIF        
	ENDPROC

	PROCEDURE chkpercepcion.Click
		If This.Value=1
			ntotal=Iif(Thisform.txttotal1.Value>0,Thisform.txttotal1.Value,Thisform.txttotal.Value)
			If ntotal=0
				Messagebox("Ingrese Importes",16,MSGTITULO)
				Return
			Endif
			Thisform.txtpercepcion.Value=Round((ntotal*fe_gene.nper)/100,2)
			Thisform.txttgeneral.Value=Round(Thisform.txttotal.Value+Thisform.txtpercepcion.Value,2)
		Else
			Thisform.txtpercepcion.Value=0
			Thisform.txttgeneral.Value=Thisform.txttotal.Value
		Endif
		
	ENDPROC

	PROCEDURE Cmbforma.LostFocus
		Select tmpgc
		Go Top
		Thisform.grivtag.column1.text1.SetFocus
		
	ENDPROC

	PROCEDURE Cmdaceptar.Click
		Store 0 To rpta,xprec,vprec,nvprec
		Set Procedure To capadatos Additive
		If !Thisform.validar()
			Messagebox(Thisform.mensaje,16,MSGTITULO)
			Return
		Endif
		Cajas=''
		With Thisform
			rpta=PreguntaGuardar()
			Do Case
			Case rpta=7
				.nuevo()
				Return
			Case rpta=2
				.grivtag.SetFocus
				Return
			Endcase
			nv=Iif(.txtvalor1.Value>0,.txtvalor1.Value,.txtvalor.Value)
			nt=Iif(.txttotal1.Value>0,.txttotal1.Value,.txttotal.Value)
			nigv=Iif(.txtigv1.Value>0,.txtigv1.Value,.txtigv.Value)
			cguia=.txtserieg.Value+.txtnumerog.Value 
			ipd=.proveedor
			cm=Left(.cmbmoneda.Value,1)
			If .cmbforma.ListIndex=2 Then
				Do Form de_registra With ipd,cm,.TXTSErie.Value+.TXTNUmero.Value,;
					nt+.txtpercepcion.Value,.txtfechar.Value,.txtdolar.Value,'01',0,fe_gene.idctact To .swcreditos
			Else
				.swcreditos=1
			Endif
			If .swcreditos=0 Then
				Messagebox("No Se Grabo Como Crédito",16,MSGTITULO)
				Return
			Endif
			Select idauto,fecha,ndoc,idusua From tmpgc Into Cursor u Group By idauto
			If IniciaTransaccion()=0 Then
				DeshacerCambios()
				Return
			Endif
			.nauto=IngresaResumenDcto('01',Left(.cmbforma.Value,1),;
				.TXTSErie.Value+.TXTNUmero.Value,.txtfechar.Value,.txtfechar1.Value,'',nv,nigv,nt,cguia,cm,;
				.txtdolar.Value,Iif(.optexoneraciones1.optnoexonerada.Value=1,fe_gene.igv,1),'k',ipd,'1',goapp.nidusua,0,goapp.tienda,fe_gene.idctacv,fe_gene.idctaci,fe_gene.idctact,10,.txtpercepcion.Value)
			If .nauto=0
				DeshacerCambios()
				Return
			Endif
			If .swcreditos=1 And .cmbforma.ListIndex=2
				If .ingresadeudas()=0
					DeshacerCambios()
					Return
				Endif
			Endif
			swe=1
			vd=0
			Select u
			Scan All
				If ActualizaResumenGuiasCompras(u.idauto)=0 Then
					swe=0
					Exit
				Endif
				vd=NoestaIngresadoRGuiaCompra(u.idauto)
				If vd=1 Then
					If IngresaRGuiaCompra(ipd,u.idauto,u.ndoc,u.fecha,u.idusua)=0 Then
						swe=0
						Exit
					Endif
				Endif
			Endscan
			If swe=0 Then
				DeshacerCambios()
				Return
			Endif
			Select tmpgc
			Go Top
			Do While !Eof()
				If .txtredondeo.Value<>0
					ximporte=(Round(tmpgc.cant*tmpgc.Prec*(100-tmpgc.d1)/100*(100-tmpgc.d2)/100*(100-tmpgc.d3)/100,2)+.txtredondeo.Value)+0.00000001
					vprec=ximporte/tmpgc.cant
					.txtredondeo.Value=0
				Endif
				If .optigv.optincluido.Value=1
					If vprec>0
						xprec=vprec/Iif(.optexoneraciones1.Value=1,fe_gene.igv,1)
						vprec=0
					Else
						xprec=(tmpgc.Prec*(100-tmpgc.d1)/100*(100-tmpgc.d2)/100*(100-tmpgc.d3)/100)/Iif(.optexoneraciones1.optnoexonerada.Value=1,fe_gene.igv,1)
					Endif
				Else
					If vprec>0
						xprec=vprec
						vprec=0
					Else
						xprec=tmpgc.Prec*(100-tmpgc.d1)/100*(100-tmpgc.d2)/100*(100-tmpgc.d3)/100
					Endif
				Endif
				If ActualizaPrecioKardexGuias11(tmpgc.nreg,xprec,.nauto)=0 Then
					.swk=0
					Exit
				Endif
				If VerificaSiestaEnlazadoGC(tmpgc.nreg)=1 Then
					If IngresaGuiasCompras1(tmpgc.idauto,tmpgc.nreg,.nauto)=0 Then
						.swk=0
						Exit
					Endif
				Else
					If ActualizaGuiasCompras(tmpgc.idauto,.nauto)=0 Then
						.swk=0
						Exit
					Endif
				Endif
				If ActualizaCostos1(tmpgc.idcosto,tmpgc.costoact,tmpgc.gast,xprec,cm,fe_gene.dola)=0 Then
					.swk=0
					Exit
				Endif
				If tmpgc.swcosto=1 Then
					If ActualizaCostos(tmpgc.coda,.txtfechag.Value,xprec,tmpgc.idauto,ipd,cm,Iif(.optexoneraciones1.optnoexonerada.Value=1,fe_gene.igv,1),fe_gene.dola,tmpgc.idcosto)=0 Then
						.swk=0
						Exit
					Endif
				Endif
				Select tmpgc
				Skip
			Enddo
			If .swk=1 And .swcreditos=1 And swe=1
				GrabarCambios()
				.nuevo()
			Else
				DeshacerCambios()
			Endif
		Endwith
		
	ENDPROC

	PROCEDURE Cmdanular1.Click
		If Used("tmpgc")
			Zap In tmpgc
			Thisform.nitem=0
			Thisform.grivtag.suma()
		Endif
		
	ENDPROC

	PROCEDURE Cmdborraritem.Click
		IF  Empty(tmpgc.coda)
			Thisform.cmdeliminar.Enabled=.F.
			Thisform.grivta.column1.text1.SetFocus
		Else
			Delete
			Thisform.grivta.Refresh
			Thisform.grivta.column4.text1.LostFocus
			Thisform.grivta.column1.text1.SetFocus
		Endif
		
	ENDPROC

	PROCEDURE Cmdcerraro.Click
		Go Top In tmpgc
		If Thisform.encontrado="V"
			Thisform.cmdaceptar.Click
		Endif
		DoDefault()
	ENDPROC

	PROCEDURE cmdeliminar.Click
		SELECT tmpgc
		thisform.cmdborraritem.click
	ENDPROC

	PROCEDURE cmdlista.Click
		Do Form ka_lselecciona With Thisform.proveedor,"G";
			TO cvalor
		If cvalor>0
			Thisform.nauto=cvalor
			Thisform.ingresaguias()
			Thisform.calcularcostosactuales()
		Endif
		
	ENDPROC

	PROCEDURE cmdver.Click
		With Thisform
			Do Form ka_muestraclipro With "C",0 To nid
			If nid>0
				IF MuestraProveedoresX(nid,2,nid,"Lp")=0 then
					Return
				Endif
				.lblproveedor.Caption=lp.razo
				.proveedor=lp.idprov
				.cmdlista.Click()
			Endif
		Endwith
	ENDPROC

	PROCEDURE Grivtag.AfterRowColChange
		LPARAMETERS nColIndex
		thisform.txtcostoant.Value=tmpgc.costoant
		thisform.txtcostoact.Value=tmpgc.costoact
		
	ENDPROC

	PROCEDURE Grivtag.Column1.head1.Click
		Select tmpgc
		If Thisform.grIVTAg.indice="descri"
			Thisform.grIVTAg.indice="items"
			Set Order To items
		Else
			Thisform.grIVTAg.indice="descri"
			Set Order To Desc
		Endif
		Thisform.grIVTAg.Refresh()
		Go Top
		
	ENDPROC

	PROCEDURE Grivtag.Column11.chkcosto.Click
		If This.Value=1 Then
			Replace swcosto With 1 In tmpgc
		Else
			Replace swcosto With 0 In tmpgc
		Endif
		
	ENDPROC

	PROCEDURE Grivtag.Column4.Text1.InteractiveChange
		Replace Impo With;
			round(tmpgc.cant*This.Value*(100-tmpgc.d1)/100*(100-tmpgc.d2)/100*(100-tmpgc.d3)/100,2) IN tmpgc
		
	ENDPROC

	PROCEDURE Grivtag.Column4.Text1.LostFocus
		thisform.costoactual()
		thisform.grivtag.suma()
	ENDPROC

	PROCEDURE Grivtag.Column5.Text1.InteractiveChange
		Replace Impo With;
			round(tmpgc.cant*tmpgc.Prec*(100-This.Value)/100*(100-tmpgc.d2)/100*(100-tmpgc.d3)/100,2) In tmpgc
		
	ENDPROC

	PROCEDURE Grivtag.Column5.Text1.LostFocus
		thisform.grivtag.suma()
	ENDPROC

	PROCEDURE Grivtag.Column6.Text1.InteractiveChange
		REPLACE impo WITH;
		round(tmpgc.cant*tmpgc.prec*(100-tmpgc.d1)/100*(100-this.value)/100*(100-tmpgc.d3)/100,2) IN tmpgc
	ENDPROC

	PROCEDURE Grivtag.Column6.Text1.LostFocus
		thisform.grivtag.suma()
	ENDPROC

	PROCEDURE Grivtag.Column7.Text1.InteractiveChange
		REPLACE impo WITH;
		round(tmpgc.cant*tmpgc.prec*(100-tmpgc.d1)/100*(100-tmpgc.d2)/100*(100-this.Value)/100,2) IN tmpgc
	ENDPROC

	PROCEDURE Grivtag.Column7.Text1.LostFocus
		thisform.grivtag.suma()
	ENDPROC

	PROCEDURE Grivtag.Column8.Text1.InteractiveChange
		SELECT tmpgc
		IF tmpgc.cant>0
		   REPLACE prec with this.Value/tmpgc.cant IN tmpgc
		ENDIF
	ENDPROC

	PROCEDURE Grivtag.Column9.chkpercepcion.Click
		Local nprecio,ni
		ni=Iif(Thisform.optexoneraciones1.optnoexonerada.Value=1,fe_gene.igv,1)
		If tmpgc.swp
			If Thisform.optigv.optincluido.Value=1
				nprecio=tmpgc.Prec
			Else
				nprecio=Round(tmpgc.Prec*ni,2)
			Endif
			Replace swp With .T.,perc With;
				ROUND((Round(tmpgc.cant*nprecio*(100-tmpgc.d1)/100*(100-tmpgc.d2)/100*(100-tmpgc.d3)/100,2)*2)/100,2) In tmpgc
		Else
			Replace swp With .F.,perc With 0 In tmpgc
		Endif
		Thisform.grivtag.suma()
	ENDPROC

	PROCEDURE Grivtag.Column9.chkpercepcion.LostFocus
		thisform.grivtag.suma()
	ENDPROC

	PROCEDURE Grivtag.suma
		LOCAL ni as Integer 
		ni=IIF(thisform.optexoneraciones1.optnoexonerada.Value=1,fe_gene.igv,1)
		With Thisform
			Select tmpgc
			If .optigv.optincluido.Value=1
				Sum Round(cant*Prec*(100-d1)/100*(100-d2)/100*(100-d3)/100,2) To .txttotal.Value
				.txtvalor.Value=Round(.txttotal.Value/ni,2)
				.txtigv.Value=Round(.txttotal.Value-.txtvalor.Value,2)
			Else
				Sum Round(cant*Prec*(100-d1)/100*(100-d2)/100*(100-d3)/100,2) To .txtvalor.Value
				.txttotal.Value=Round(.txtvalor.Value*ni,2)
				.txtigv.Value=Round(.txttotal.Value-.txtvalor.Value,2)
			Endif
		Endwith
		
	ENDPROC

	PROCEDURE Optexoneraciones1.optexonerada.Click
		thisform.grivtag.suma()
	ENDPROC

	PROCEDURE Optexoneraciones1.optnoexonerada.Click
		thisform.grivtag.suma()
	ENDPROC

	PROCEDURE Optigv.optincluido.Click
		thisform.grivtag.suma()
		thisform.calcularcostosactuales()
	ENDPROC

	PROCEDURE Optigv.optnoincluir.Click
		thisform.grivtag.suma()
		thisform.calcularcostosactuales()
	ENDPROC

	PROCEDURE Txtfechar.GotFocus
		If Empty(Thisform.txtnumero.Value)
			Thisform.txtserieg.SetFocus
			Return
		Endif
		
	ENDPROC

	PROCEDURE Txtfechar.InteractiveChange
		thisform.txtfechar1.Value=this.Value 
	ENDPROC

	PROCEDURE Txtfechar.LostFocus
		*********
	ENDPROC

	PROCEDURE txtigv1.InteractiveChange
		IF thisform.txttotal.value>0
		   thisform.txtredondeo.value=this.value-thisform.txtigv.value
		   thisform.txttotal1.value=round(thisform.txtvalor1.value+this.value,2)
		ENDIF   
		
	ENDPROC

	PROCEDURE txtigv1.LostFocus
		Local xredo
		xredo=fe_gene.redo-(fe_gene.redo*2)
		If This.Value>0
			If Thisform.txtredondeo.Value>fe_gene.redo Or Thisform.txtredondeo.Value<xredo
				Messagebox("El Importe a Redondear es Mayor al Permitido",48,MSGTITULO)
				This.Value=0
				Thisform.txtredondeo.Value=0
				Thisform.txtvalor1.Value=0
				Thisform.txttotal1.Value=0
			Endif
		Endif
	ENDPROC

	PROCEDURE txtnumero.LostFocus
		this.value=right("000000000"+alltrim(this.value),8)
	ENDPROC

	PROCEDURE txtnumerog.LostFocus
		this.value=right("0000000"+alltrim(this.value),7)
		
	ENDPROC

	PROCEDURE txtserie.LostFocus
		this.value=right("0000"+alltrim(this.value),4)
	ENDPROC

	PROCEDURE txtserieg.LostFocus
		this.value=right("000"+alltrim(this.value),3)
	ENDPROC

	PROCEDURE txttotal1.InteractiveChange
		Local ni As Integer
		ni=Iif(Thisform.optexoneraciones1.OPTnoexonerada.Value=1,fe_gene.igv,1)
		If Thisform.txttotal.Value>0
			Thisform.txtredondeo.Value=This.Value-Thisform.txttotal.Value
			Thisform.txtvalor1.Value=Round(This.Value/ni,2)
			Thisform.txtigv1.Value=Round(This.Value-Thisform.txtvalor1.Value,2)
		Endif
		
	ENDPROC

	PROCEDURE txttotal1.LostFocus
		Local xredo
		xredo=fe_gene.redo-(fe_gene.redo*2)
		If This.Value>0
			If Thisform.txtredondeo.Value>fe_gene.redo Or Thisform.txtredondeo.Value<xredo
				Messagebox("El Importe a Redondear es Mayor al Permitido",48,MSGTITULO)
				This.Value=0
				Thisform.txtredondeo.Value=0
				Thisform.txtvalor1.Value=0
				Thisform.txtigv1.Value=0
			Endif
		Endif
		
	ENDPROC

	PROCEDURE txtvalor1.InteractiveChange
		LOCAL ni as Integer
		ni=IIF(thisform.optexoneraciones1.Value=1,fe_gene.igv,1)
		IF thisform.txttotal.value>0
		   thisform.txtredondeo.value=this.value-thisform.txtvalor.value
		   thisform.txtigv1.value=round(this.value*(ni-1),2)
		   thisform.txttotal1.value=round(this.value+thisform.txtigv1.value,2)
		ENDIF 
	ENDPROC

	PROCEDURE txtvalor1.LostFocus
		Local xredo
		xredo=fe_gene.redo-(fe_gene.redo*2)
		If This.Value>0
			If Thisform.txtredondeo.Value>fe_gene.redo Or Thisform.txtredondeo.Value<xredo
				Messagebox("El Importe a Redondear es Mayor al Permitido",48,MSGTITULO)
				This.Value=0
				Thisform.txtredondeo.Value=0
				Thisform.txtigv1.Value=0
				Thisform.txttotal1.Value=0
			Endif
		Endif
	ENDPROC

ENDDEFINE
